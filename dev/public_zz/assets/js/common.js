function U(){var a=arguments[0]||[],b=arguments[1]||{},c=a.split("/");if(!$.isArray(c)||c.length<2||c.length>3)return"";2==c.length&&c.unshift(_GROUP_);var e=["g","m","a"],f=[];for(d in e)f.push(e[d]+"="+c[d]);for(d in b)f.push(d+"="+b[d]);return _APP_+"?"+f.join("&")}function url_content(a,b,c){$.get(a,{},function(a){html_content(a,b,c)})}function html_content(a,b,c){var d="auto";navigator.userAgent.indexOf("MSIE 7.0")>0&&(d="500"),$.colorbox.remove(),$.colorbox({width:d,html:a,closeButton:!1,close:"close",overlayClose:!1,escKey:!0,opacity:.4,scrolling:!1,callback:b}),$("#cboxContent").css("overflow","visible"),$("#cboxLoadedContent").css("overflow","visible"),$(".cancel, .close").click(function(){return $.colorbox.close(),c&&c(),!1}),$("#cboxOverlay").click(function(){$(this).hide(),$("#colorbox").hide()})}function bind_table(a,b,c){var d={};d.table_id="gri_table",d.key_index="id",d.order_field="id",d.order_type="asc",d.page_size=10,d.container_class="mod-basic box-table",d.table_class="mod_table",d.fields="",d.summary="",d.param={};var e="";for(var f in b)d[f]=b[f];for(var f in b.param)e+=f+"="+b.param[f]+"&";sendUrl=a.indexOf("?")>0?a+"&"+e:a+"?"+e,$.getJSON(sendUrl,d.param,function(a){dt=GRI.initDataTable({resultObj:a,tableId:d.table_id,data:a.data,summary:d.summary,allFields:d.fields,layout:"auto",enableThClick:!0,stopToday:!1,checkAll:!1,keyIndex:d.key_index,page:{orderField:d.order_field,orderType:d.order_type,ifRealPage:1,size:d.page_size,rowCount:a.count,index:0,url:sendUrl},cssSetting:{containerClass:d.container_class,tableClass:d.table_class},callback:c})})}function export_excel(a,b){a=a+"?"+$("#"+b).serialize(),window.location.href=a}function dialog(a,b,c){var d=3;if(null!=c)switch(c.type){case"warn":d=4;break;case"error":d=6;break;default:d=3}var e="";c&&c.desc&&(e=c.desc);new GRI.Dialog({title:"提示信息",type:d,btnType:1,content:a,winSize:2,desc:e,extra:{zIndex:99999,winSize:2}},b)}function _get(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=decodeURI(window.location.search).substr(1).match(b);return null!=c?unescape(c[2]):null}var sendUrl="";$.fn.showOption=function(){this.each(function(){var a=$(this).show();$(this).parent().replaceWith(a)})},$.fn.hideOption=function(){this.each(function(){$(this).wrap("<span>").hide()})},$(function(){$("#backid").click(function(){window.location.href="index.html"}),$("#addnew").click(function(){window.location.href="add.html"}),$(".sidebar .nav-tree .mod-tree-group h3").click(function(){$(this).find("i").hasClass("icon-caret")?($(this).find("i").removeClass("icon-caret"),$(this).find("i").addClass("icon-caret-left"),$(this).next().hide()):($(this).find("i").removeClass("icon-caret-left"),$(this).find("i").addClass("icon-caret"),$(this).next().show())}),$(".sidebar .nav-tree .mod-tree-group ul li").click(function(){$(".sidebar .nav-tree .mod-tree-group ul li").removeClass("current"),$(this).addClass("current")})});var loadingDiv=function(){var a=document.createElement("div");return a.id="__loading",a.className="gri_body_loading",a.innerHTML="<img src='/public/assets/css/images/loading.gif' alt='加载中...' />",a.style.position="absolute",a.style.left="49%",a.style.top="45%",a.style.zIndex="9999999",a}();!function($){$.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;$.JSON.stringify="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})},$.JSON.parse="object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}(jQuery),function(a){a._ajax=a.ajax,a.ajax=function(b){a("body").append(loadingDiv),void 0==b.type&&(b.type="get"),a._ajax(b).success(function(b){10002==b.retCode&&(location.href="/public/login.html"),a("#__loading").remove()})}}(jQuery);